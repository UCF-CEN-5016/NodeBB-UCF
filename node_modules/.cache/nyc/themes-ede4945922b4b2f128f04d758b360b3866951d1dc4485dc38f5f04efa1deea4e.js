'use strict';function cov_2bbaxq1xle(){var path="/home/vardhan/assignment-2/src/controllers/admin/themes.js";var hash="c4842a1f68e42ee7144e64f8e793b87a59ae65f7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/vardhan/assignment-2/src/controllers/admin/themes.js",statementMap:{"0":{start:{line:3,column:13},end:{line:3,column:28}},"1":{start:{line:4,column:11},end:{line:4,column:24}},"2":{start:{line:6,column:13},end:{line:6,column:34}},"3":{start:{line:7,column:18},end:{line:7,column:44}},"4":{start:{line:9,column:25},end:{line:9,column:39}},"5":{start:{line:11,column:30},end:{line:11,column:95}},"6":{start:{line:13,column:0},end:{line:31,column:2}},"7":{start:{line:14,column:21},end:{line:14,column:62}},"8":{start:{line:15,column:28},end:{line:15,column:61}},"9":{start:{line:18,column:4},end:{line:26,column:5}},"10":{start:{line:19,column:8},end:{line:19,column:74}},"11":{start:{line:20,column:8},end:{line:20,column:46}},"12":{start:{line:22,column:8},end:{line:24,column:9}},"13":{start:{line:23,column:12},end:{line:23,column:47}},"14":{start:{line:25,column:8},end:{line:25,column:25}},"15":{start:{line:28,column:27},end:{line:28,column:119}},"16":{start:{line:29,column:19},end:{line:29,column:52}},"17":{start:{line:30,column:4},end:{line:30,column:66}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:13,column:23},end:{line:13,column:24}},loc:{start:{line:13,column:55},end:{line:31,column:1}},line:13}},branchMap:{"0":{loc:{start:{line:22,column:8},end:{line:24,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:24,column:9}},{start:{line:22,column:8},end:{line:24,column:9}}],line:22},"1":{loc:{start:{line:28,column:27},end:{line:28,column:119}},type:"cond-expr",locations:[{start:{line:28,column:52},end:{line:28,column:95}},{start:{line:28,column:98},end:{line:28,column:119}}],line:28},"2":{loc:{start:{line:30,column:17},end:{line:30,column:64}},type:"cond-expr",locations:[{start:{line:30,column:26},end:{line:30,column:40}},{start:{line:30,column:43},end:{line:30,column:64}}],line:30}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c4842a1f68e42ee7144e64f8e793b87a59ae65f7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2bbaxq1xle=function(){return actualCoverage;};}return actualCoverage;}cov_2bbaxq1xle();const path=(cov_2bbaxq1xle().s[0]++,require('path'));const fs=(cov_2bbaxq1xle().s[1]++,require('fs'));const file=(cov_2bbaxq1xle().s[2]++,require('../../file'));const{paths}=(cov_2bbaxq1xle().s[3]++,require('../../constants'));const themesController=(cov_2bbaxq1xle().s[4]++,module.exports);const defaultScreenshotPath=(cov_2bbaxq1xle().s[5]++,path.join(__dirname,'../../../public/images/themes/default.png'));cov_2bbaxq1xle().s[6]++;themesController.get=async function(req,res,next){cov_2bbaxq1xle().f[0]++;const themeDir=(cov_2bbaxq1xle().s[7]++,path.join(paths.themes,req.params.theme));const themeConfigPath=(cov_2bbaxq1xle().s[8]++,path.join(themeDir,'theme.json'));let themeConfig;cov_2bbaxq1xle().s[9]++;try{cov_2bbaxq1xle().s[10]++;themeConfig=await fs.promises.readFile(themeConfigPath,'utf8');cov_2bbaxq1xle().s[11]++;themeConfig=JSON.parse(themeConfig);}catch(err){cov_2bbaxq1xle().s[12]++;if(err.code==='ENOENT'){cov_2bbaxq1xle().b[0][0]++;cov_2bbaxq1xle().s[13]++;return next(Error('invalid-data'));}else{cov_2bbaxq1xle().b[0][1]++;}cov_2bbaxq1xle().s[14]++;return next(err);}const screenshotPath=(cov_2bbaxq1xle().s[15]++,themeConfig.screenshot?(cov_2bbaxq1xle().b[1][0]++,path.join(themeDir,themeConfig.screenshot)):(cov_2bbaxq1xle().b[1][1]++,defaultScreenshotPath));const exists=(cov_2bbaxq1xle().s[16]++,await file.exists(screenshotPath));cov_2bbaxq1xle().s[17]++;res.sendFile(exists?(cov_2bbaxq1xle().b[2][0]++,screenshotPath):(cov_2bbaxq1xle().b[2][1]++,defaultScreenshotPath));};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmJiYXhxMXhsZSIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsIm5hbWUiLCJkZWNsIiwibG9jIiwiYnJhbmNoTWFwIiwidHlwZSIsImxvY2F0aW9ucyIsInMiLCJmIiwiYiIsIl9jb3ZlcmFnZVNjaGVtYSIsImNvdmVyYWdlIiwiYWN0dWFsQ292ZXJhZ2UiLCJyZXF1aXJlIiwiZnMiLCJmaWxlIiwicGF0aHMiLCJ0aGVtZXNDb250cm9sbGVyIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHRTY3JlZW5zaG90UGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJnZXQiLCJyZXEiLCJyZXMiLCJuZXh0IiwidGhlbWVEaXIiLCJ0aGVtZXMiLCJwYXJhbXMiLCJ0aGVtZSIsInRoZW1lQ29uZmlnUGF0aCIsInRoZW1lQ29uZmlnIiwicHJvbWlzZXMiLCJyZWFkRmlsZSIsIkpTT04iLCJwYXJzZSIsImVyciIsImNvZGUiLCJFcnJvciIsInNjcmVlbnNob3RQYXRoIiwic2NyZWVuc2hvdCIsImV4aXN0cyIsInNlbmRGaWxlIl0sInNvdXJjZXMiOlsidGhlbWVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcblxuY29uc3QgZmlsZSA9IHJlcXVpcmUoJy4uLy4uL2ZpbGUnKTtcbmNvbnN0IHsgcGF0aHMgfSA9IHJlcXVpcmUoJy4uLy4uL2NvbnN0YW50cycpO1xuXG5jb25zdCB0aGVtZXNDb250cm9sbGVyID0gbW9kdWxlLmV4cG9ydHM7XG5cbmNvbnN0IGRlZmF1bHRTY3JlZW5zaG90UGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi8uLi8uLi9wdWJsaWMvaW1hZ2VzL3RoZW1lcy9kZWZhdWx0LnBuZycpO1xuXG50aGVtZXNDb250cm9sbGVyLmdldCA9IGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICAgIGNvbnN0IHRoZW1lRGlyID0gcGF0aC5qb2luKHBhdGhzLnRoZW1lcywgcmVxLnBhcmFtcy50aGVtZSk7XG4gICAgY29uc3QgdGhlbWVDb25maWdQYXRoID0gcGF0aC5qb2luKHRoZW1lRGlyLCAndGhlbWUuanNvbicpO1xuXG4gICAgbGV0IHRoZW1lQ29uZmlnO1xuICAgIHRyeSB7XG4gICAgICAgIHRoZW1lQ29uZmlnID0gYXdhaXQgZnMucHJvbWlzZXMucmVhZEZpbGUodGhlbWVDb25maWdQYXRoLCAndXRmOCcpO1xuICAgICAgICB0aGVtZUNvbmZpZyA9IEpTT04ucGFyc2UodGhlbWVDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoZXJyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChFcnJvcignaW52YWxpZC1kYXRhJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KGVycik7XG4gICAgfVxuXG4gICAgY29uc3Qgc2NyZWVuc2hvdFBhdGggPSB0aGVtZUNvbmZpZy5zY3JlZW5zaG90ID8gcGF0aC5qb2luKHRoZW1lRGlyLCB0aGVtZUNvbmZpZy5zY3JlZW5zaG90KSA6IGRlZmF1bHRTY3JlZW5zaG90UGF0aDtcbiAgICBjb25zdCBleGlzdHMgPSBhd2FpdCBmaWxlLmV4aXN0cyhzY3JlZW5zaG90UGF0aCk7XG4gICAgcmVzLnNlbmRGaWxlKGV4aXN0cyA/IHNjcmVlbnNob3RQYXRoIDogZGVmYXVsdFNjcmVlbnNob3RQYXRoKTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQyxTQUFBQSxlQUFBLE1BQUFDLElBQUEsa0VBQUFDLElBQUEsZ0RBQUFDLE1BQUEsS0FBQUMsUUFBQSxzQkFBQUMsR0FBQSxvQkFBQUMsWUFBQSxFQUFBTCxJQUFBLDhEQUFBTSxZQUFBLE9BQUFDLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxHQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxHQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFVBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFlBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFlBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFdBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFlBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFlBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLGFBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLFlBQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE9BQUFFLEtBQUEsT0FBQUMsSUFBQSxpQkFBQUMsSUFBQSxFQUFBTixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxLQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxNQUFBSyxHQUFBLEVBQUFQLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLEtBQUFELElBQUEsTUFBQU8sU0FBQSxPQUFBRCxHQUFBLEVBQUFQLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLEtBQUFPLElBQUEsTUFBQUMsU0FBQSxHQUFBVixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxNQUFBRixLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxNQUFBRCxJQUFBLFVBQUFNLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsT0FBQU8sSUFBQSxhQUFBQyxTQUFBLEdBQUFWLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE9B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