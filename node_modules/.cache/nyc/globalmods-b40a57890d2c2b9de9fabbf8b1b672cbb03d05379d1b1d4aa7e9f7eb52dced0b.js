'use strict';function cov_17j2a4tuqi(){var path="/home/vardhan/assignment-2/src/controllers/globalmods.js";var hash="8b7556242ac6c900bcf78881e29648faa3734aa9";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/vardhan/assignment-2/src/controllers/globalmods.js",statementMap:{"0":{start:{line:3,column:13},end:{line:3,column:31}},"1":{start:{line:4,column:13},end:{line:4,column:31}},"2":{start:{line:5,column:18},end:{line:5,column:41}},"3":{start:{line:6,column:24},end:{line:6,column:48}},"4":{start:{line:7,column:16},end:{line:7,column:36}},"5":{start:{line:9,column:29},end:{line:9,column:43}},"6":{start:{line:11,column:0},end:{line:27,column:2}},"7":{start:{line:12,column:31},end:{line:12,column:69}},"8":{start:{line:13,column:4},end:{line:15,column:5}},"9":{start:{line:14,column:8},end:{line:14,column:22}},"10":{start:{line:17,column:35},end:{line:20,column:6}},"11":{start:{line:21,column:4},end:{line:26,column:7}},"12":{start:{line:30,column:0},end:{line:36,column:2}},"13":{start:{line:31,column:31},end:{line:31,column:69}},"14":{start:{line:32,column:4},end:{line:34,column:5}},"15":{start:{line:33,column:8},end:{line:33,column:22}},"16":{start:{line:35,column:4},end:{line:35,column:54}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:35},end:{line:11,column:36}},loc:{start:{line:11,column:67},end:{line:27,column:1}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:30,column:41},end:{line:30,column:42}},loc:{start:{line:30,column:73},end:{line:36,column:1}},line:30}},branchMap:{"0":{loc:{start:{line:13,column:4},end:{line:15,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:15,column:5}},{start:{line:13,column:4},end:{line:15,column:5}}],line:13},"1":{loc:{start:{line:32,column:4},end:{line:34,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:34,column:5}},{start:{line:32,column:4},end:{line:34,column:5}}],line:32}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b7556242ac6c900bcf78881e29648faa3734aa9"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_17j2a4tuqi=function(){return actualCoverage;};}return actualCoverage;}cov_17j2a4tuqi();const user=(cov_17j2a4tuqi().s[0]++,require('../user'));const meta=(cov_17j2a4tuqi().s[1]++,require('../meta'));const analytics=(cov_17j2a4tuqi().s[2]++,require('../analytics'));const usersController=(cov_17j2a4tuqi().s[3]++,require('./admin/users'));const helpers=(cov_17j2a4tuqi().s[4]++,require('./helpers'));const globalModsController=(cov_17j2a4tuqi().s[5]++,module.exports);cov_17j2a4tuqi().s[6]++;globalModsController.ipBlacklist=async function(req,res,next){cov_17j2a4tuqi().f[0]++;const isAdminOrGlobalMod=(cov_17j2a4tuqi().s[7]++,await user.isAdminOrGlobalMod(req.uid));cov_17j2a4tuqi().s[8]++;if(!isAdminOrGlobalMod){cov_17j2a4tuqi().b[0][0]++;cov_17j2a4tuqi().s[9]++;return next();}else{cov_17j2a4tuqi().b[0][1]++;}const[rules,analyticsData]=(cov_17j2a4tuqi().s[10]++,await Promise.all([meta.blacklist.get(),analytics.getBlacklistAnalytics()]));cov_17j2a4tuqi().s[11]++;res.render('ip-blacklist',{title:'[[pages:ip-blacklist]]',rules:rules,analytics:analyticsData,breadcrumbs:helpers.buildBreadcrumbs([{text:'[[pages:ip-blacklist]]'}])});};cov_17j2a4tuqi().s[12]++;globalModsController.registrationQueue=async function(req,res,next){cov_17j2a4tuqi().f[1]++;const isAdminOrGlobalMod=(cov_17j2a4tuqi().s[13]++,await user.isAdminOrGlobalMod(req.uid));cov_17j2a4tuqi().s[14]++;if(!isAdminOrGlobalMod){cov_17j2a4tuqi().b[1][0]++;cov_17j2a4tuqi().s[15]++;return next();}else{cov_17j2a4tuqi().b[1][1]++;}cov_17j2a4tuqi().s[16]++;await usersController.registrationQueue(req,res);};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTdqMmE0dHVxaSIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsIm5hbWUiLCJkZWNsIiwibG9jIiwiYnJhbmNoTWFwIiwidHlwZSIsImxvY2F0aW9ucyIsInMiLCJmIiwiYiIsIl9jb3ZlcmFnZVNjaGVtYSIsImNvdmVyYWdlIiwiYWN0dWFsQ292ZXJhZ2UiLCJ1c2VyIiwicmVxdWlyZSIsIm1ldGEiLCJhbmFseXRpY3MiLCJ1c2Vyc0NvbnRyb2xsZXIiLCJoZWxwZXJzIiwiZ2xvYmFsTW9kc0NvbnRyb2xsZXIiLCJtb2R1bGUiLCJleHBvcnRzIiwiaXBCbGFja2xpc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaXNBZG1pbk9yR2xvYmFsTW9kIiwidWlkIiwicnVsZXMiLCJhbmFseXRpY3NEYXRhIiwiUHJvbWlzZSIsImFsbCIsImJsYWNrbGlzdCIsImdldCIsImdldEJsYWNrbGlzdEFuYWx5dGljcyIsInJlbmRlciIsInRpdGxlIiwiYnJlYWRjcnVtYnMiLCJidWlsZEJyZWFkY3J1bWJzIiwidGV4dCIsInJlZ2lzdHJhdGlvblF1ZXVlIl0sInNvdXJjZXMiOlsiZ2xvYmFsbW9kcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHVzZXIgPSByZXF1aXJlKCcuLi91c2VyJyk7XG5jb25zdCBtZXRhID0gcmVxdWlyZSgnLi4vbWV0YScpO1xuY29uc3QgYW5hbHl0aWNzID0gcmVxdWlyZSgnLi4vYW5hbHl0aWNzJyk7XG5jb25zdCB1c2Vyc0NvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2FkbWluL3VzZXJzJyk7XG5jb25zdCBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbmNvbnN0IGdsb2JhbE1vZHNDb250cm9sbGVyID0gbW9kdWxlLmV4cG9ydHM7XG5cbmdsb2JhbE1vZHNDb250cm9sbGVyLmlwQmxhY2tsaXN0ID0gYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgY29uc3QgaXNBZG1pbk9yR2xvYmFsTW9kID0gYXdhaXQgdXNlci5pc0FkbWluT3JHbG9iYWxNb2QocmVxLnVpZCk7XG4gICAgaWYgKCFpc0FkbWluT3JHbG9iYWxNb2QpIHtcbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBbcnVsZXMsIGFuYWx5dGljc0RhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBtZXRhLmJsYWNrbGlzdC5nZXQoKSxcbiAgICAgICAgYW5hbHl0aWNzLmdldEJsYWNrbGlzdEFuYWx5dGljcygpLFxuICAgIF0pO1xuICAgIHJlcy5yZW5kZXIoJ2lwLWJsYWNrbGlzdCcsIHtcbiAgICAgICAgdGl0bGU6ICdbW3BhZ2VzOmlwLWJsYWNrbGlzdF1dJyxcbiAgICAgICAgcnVsZXM6IHJ1bGVzLFxuICAgICAgICBhbmFseXRpY3M6IGFuYWx5dGljc0RhdGEsXG4gICAgICAgIGJyZWFkY3J1bWJzOiBoZWxwZXJzLmJ1aWxkQnJlYWRjcnVtYnMoW3sgdGV4dDogJ1tbcGFnZXM6aXAtYmxhY2tsaXN0XV0nIH1dKSxcbiAgICB9KTtcbn07XG5cblxuZ2xvYmFsTW9kc0NvbnRyb2xsZXIucmVnaXN0cmF0aW9uUXVldWUgPSBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgICBjb25zdCBpc0FkbWluT3JHbG9iYWxNb2QgPSBhd2FpdCB1c2VyLmlzQWRtaW5Pckdsb2JhbE1vZChyZXEudWlkKTtcbiAgICBpZiAoIWlzQWRtaW5Pckdsb2JhbE1vZCkge1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgICBhd2FpdCB1c2Vyc0NvbnRyb2xsZXIucmVnaXN0cmF0aW9uUXVldWUocmVxLCByZXMpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDLFNBQUFBLGVBQUEsTUFBQUMsSUFBQSxnRUFBQUMsSUFBQSxnREFBQUMsTUFBQSxLQUFBQyxRQUFBLHNCQUFBQyxHQUFBLG9CQUFBQyxZQUFBLEVBQUFMLElBQUEsNERBQUFNLFlBQUEsT0FBQUMsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLEdBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLEdBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsVUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsVUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsWUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsWUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsV0FBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsWUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsT0FBQUUsS0FBQSxPQUFBQyxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxVQUFBSSxJQUFBLGlCQUFBQyxJQUFBLEVBQUFOLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLEtBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFLLEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsS0FBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQUQsSUFBQSxNQUFBTyxTQUFBLE9BQUFELEdBQUEsRUFBQVAsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsS0FBQU8sSUFBQSxNQUFBQyxTQUFBLEdBQUFWLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFGLEtBQUEsRUFBQUMsSUFBQSxJQUFBQyxNQUFBLElBQUFDLEdBQUEsRUFBQUYsSUFBQSxJQUFBQyxNQUFBLE1BQUFELElBQUEsVUFBQU0sR0FBQSxFQUFBUCxLQUFBLEVBQUFDLElBQUEsSUFBQUMsTUFBQSxJQUFBQyxHQUFBLEVBQUFGLElBQUEsSUFBQUMsTUFBQSxLQUFBTyxJQUFBLE1BQUFDLFNBQUEsR0FBQVYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsTUFBQUYsS0FBQSxFQUFBQyxJQUFBLElBQUFDLE1BQUEsSUFBQUMsR0FBQSxFQUFBRixJQUFBLElBQUFDLE1BQUEsTUFBQUQsSUFBQSxNQUFBVSxDQUFBLGdIQUFBQyxDQUFBLGVBQUFDLENBQUEsdUJBQUFDLGVBQUEsNENBQUFwQixJQUFBLGlEQUFBcUIsUUFBQSxDQUFBcEIsTUFBQSxDQUFBRSxHQUFBLElBQUFGLE1BQUEsQ0FBQUUsR0FBQSxVQUFBa0IsUUFBQSxDQUFBdEIsSUFBQSxHQUFBc0IsUUFBQSxDQUFBdEIsSUFBQSxFQUFBQyxJQUFBLEdBQUFBLElBQUEsRUFBQXFCLFFBQUEsQ0FBQXRCLElBQUEsRUFBQUssWUFBQSxNQUFBa0IsY0FBQSxDQUFBRCxRQUFBLENBQUF0QixJQUFBLEdBZUQ7QUFBQUQsY0FBQSxTQUFBQSxDQUFBLFNBQUF3QixjQUFBLFdBQUFBLGNBQUEsRUFBQXhCLGNBQUEsR0FiWixLQUFNLENBQUF5QixJQUFJLEVBQUF6QixjQUFBLEdBQUFtQixDQUFBLE1BQUdPLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFDL0IsS0FBTSxDQUFBQyxJQUFJLEVBQUEzQixjQUFBLEdBQUFtQixDQUFBLE1BQUdPLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFDL0IsS0FBTSxDQUFBRSxTQUFTLEVBQUE1QixjQUFBLEdBQUFtQixDQUFBLE1BQUdPLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFDekMsS0FBTSxDQUFBRyxlQUFlLEVBQUE3QixjQUFBLEdBQUFtQixDQUFBLE1BQUdPLE9BQU8sQ0FBQyxlQUFlLENBQUMsRUFDaEQsS0FBTSxDQUFBSSxPQUFPLEVBQUE5QixjQUFBLEdBQUFtQixDQUFBLE1BQUdPLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFFcEMsS0FBTSxDQUFBSyxvQkFBb0IsRUFBQS9CLGNBQUEsR0FBQW1CLENBQUEsTUFBR2EsTUFBTSxDQUFDQyxPQUFPLEVBQUNqQyxjQUFBLEdBQUFtQixDQUFBLE1BRTVDWSxvQkFBb0IsQ0FBQ0csV0FBVyxDQUFHLGVBQWdCQyxHQUFHLENBQUVDLEdBQUcsQ0FBRUMsSUFBSSxDQUFFLENBQUFyQyxjQUFBLEdBQUFvQixDQUFBLE1BQy9ELEtBQU0sQ0FBQWtCLGtCQUFrQixFQUFBdEMsY0FBQSxHQUFBbUIsQ0FBQSxNQUFHLEtBQU0sQ0FBQU0sSUFBSSxDQUFDYSxrQkFBa0IsQ0FBQ0gsR0FBRyxDQUFDSSxHQUFHLENBQUMsRUFBQ3ZDLGNBQUEsR0FBQW1CLENBQUEsTUFDbEUsR0FBSSxDQUFDbUIsa0JBQWtCLENBQUUsQ0FBQXRDLGNBQUEsR0FBQXFCLENBQUEsU0FBQXJCLGNBQUEsR0FBQW1CLENBQUEsTUFDckIsTUFBTyxDQUFBa0IsSUFBSSxDQUFDLENBQUMsQ0FDakIsQ0FBQyxLQUFBckMsY0FBQSxHQUFBcUIsQ0FBQSxVQUVELEtBQU0sQ0FBQ21CLEtBQUssQ0FBRUMsYUFBYSxDQUFDLEVBQUF6QyxjQUFBLEdBQUFtQixDQUFBLE9BQUcsS0FBTSxDQUFBdUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FDN0NoQixJQUFJLENBQUNpQixTQUFTLENBQUNDLEdBQUcsQ0FBQyxDQUFDLENBQ3BCakIsU0FBUyxDQUFDa0IscUJBQXFCLENBQUMsQ0FBQyxDQUNwQyxDQUFDLEVBQUM5QyxjQUFBLEdBQUFtQixDQUFBLE9BQ0hpQixHQUFHLENBQUNXLE1BQU0sQ0FBQyxjQUFjLENBQUUsQ0FDdkJDLEtBQUssQ0FBRSx3QkFBd0IsQ0FDL0JSLEtBQUssQ0FBRUEsS0FBSyxDQUNaWixTQUFTLENBQUVhLGFBQWEsQ0FDeEJRLFdBQVcsQ0FBRW5CLE9BQU8sQ0FBQ29CLGdCQUFnQixDQUFDLENBQUMsQ0FBRUMsSUFBSSxDQUFFLHdCQUF5QixDQUFDLENBQUMsQ0FDOUUsQ0FBQyxDQUFDLENBQ04sQ0FBQyxDQUFDbkQsY0FBQSxHQUFBbUIsQ0FBQSxPQUdGWSxvQkFBb0IsQ0FBQ3FCLGlCQUFpQixDQUFHLGVBQWdCakIsR0FBRyxDQUFFQyxHQUFHLENBQUVDLElBQUksQ0FBRSxDQUFBckMsY0FBQSxHQUFBb0IsQ0FBQSxNQUNyRSxLQUFNLENBQUFrQixrQkFBa0IsRUFBQXRDLGNBQUEsR0FBQW1CLENBQUEsT0FBRyxLQUFNLENBQUFNLElBQUksQ0FBQ2Esa0JBQWtCLENBQUNILEdBQUcsQ0FBQ0ksR0FBRyxDQUFDLEVBQUN2QyxjQUFBLEdBQUFtQixDQUFBLE9BQ2xFLEdBQUksQ0FBQ21CLGtCQUFrQixDQUFFLENBQUF0QyxjQUFBLEdBQUFxQixDQUFBLFNBQUFyQixjQUFBLEdBQUFtQixDQUFBLE9BQ3JCLE1BQU8sQ0FBQWtCLElBQUksQ0FBQyxDQUFDLENBQ2pCLENBQUMsS0FBQXJDLGNBQUEsR0FBQXFCLENBQUEsVUFBQXJCLGNBQUEsR0FBQW1CLENBQUEsT0FDRCxLQUFNLENBQUFVLGVBQWUsQ0FBQ3VCLGlCQUFpQixDQUFDakIsR0FBRyxDQUFFQyxHQUFHLENBQUMsQ0FDckQsQ0FBQyJ9